<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arundhati & Nishit â€” Wedding Invitation</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <style>
    :root { --accent:#D6A86A; --cream:#FFF6ED; --trans-white:rgba(255,255,255,0.18); --btn-radius:12px; }
    html,body { margin:0; background:#000; color:#fff; font-family:'Poppins',sans-serif; }
    .bg-video { position:fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; }
    .overlay { position:fixed; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.12),rgba(0,0,0,.64)); z-index:1; }
    .name-script { font-family:'Great Vibes',serif; font-size:3rem; color:var(--cream); text-shadow:0 6px 18px rgba(0,0,0,.45); text-align:center; }
    .glass { background:rgba(255,255,255,.05); backdrop-filter:blur(6px); border-radius:14px; padding:14px; }
    .btn-default { background:var(--trans-white); color:#111; border-radius:var(--btn-radius); padding:10px 14px; display:inline-flex; gap:8px; align-items:center; font-weight:600; border:1px solid rgba(255,255,255,.12); }
    .btn-cal { background:#1e40af; color:#fff; padding:10px 14px; border-radius:var(--btn-radius); display:inline-flex; gap:8px; align-items:center; }
    .btn-wa { background:#16a34a; color:#fff; padding:10px 14px; border-radius:var(--btn-radius); display:inline-flex; gap:8px; align-items:center; }
    .rsvp-card { background:rgba(255,255,255,.12); backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,.18); border-radius:12px; padding:16px; }
    .form-input { width:100%; padding:10px 12px; border-radius:8px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14); color:#fff; }
    .form-input::placeholder { color:rgba(255,255,255,.8); }
    #soundToggle { position:fixed; top:14px; right:14px; z-index:9999; width:48px; height:48px; border-radius:9999px; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.6); border:1px solid rgba(255,255,255,.28); color:#fff; cursor:pointer; }
    #soundToggle i { font-size:1.2rem; }
    main { position:relative; z-index:10; max-width:680px; margin:0 auto; padding:28px 16px 60px; display:flex; flex-direction:column; gap:18px; }
    @media (max-width:640px){ .name-script{ font-size:2.4rem; } }

    /* Tutorial bubble */
    #soundTutorial {
      position: fixed;
      top: 70px; right: 70px; z-index:20000;
      background: rgba(0,0,0,0.75);
      color: var(--cream);
      padding: 10px 14px;
      border-radius: 10px;
      font-size: 0.95rem;
      max-width: 180px;
      text-align: center;
      animation: fadeIn 0.6s ease-out;
    }
    #soundTutorial.hide { animation: fadeOut 0.6s ease-in forwards; }
    @keyframes fadeIn { from{opacity:0} to{opacity:1} }
    @keyframes fadeOut { from{opacity:1} to{opacity:0; visibility:hidden} }
    #soundTutorial::after {
      content:"";
      position:absolute;
      bottom:-10px; right:20px;
      border-width:10px 10px 0 10px;
      border-style:solid;
      border-color:rgba(0,0,0,0.75) transparent transparent transparent;
    }
  </style>
</head>
<body>

  <!-- Background video -->
  <video id="bgVideo" class="bg-video" autoplay loop muted playsinline preload="auto" poster="poster.jpg">
    <source src="engagement-reel.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>

  <!-- Tutorial bubble -->
  <div id="soundTutorial">ðŸ‘† Tap the speaker icon to enable sound</div>

  <!-- Sound toggle -->
  <button id="soundToggle" aria-label="Toggle sound"><i id="soundIcon" class="bi bi-volume-mute"></i></button>

  <main>
    <!-- Header -->
    <header style="text-align:center;">
      <p style="letter-spacing:2px;font-size:.85rem;text-transform:uppercase;opacity:.95;margin:0;">You're Invited</p>
      <p style="margin:6px 0 0;color:rgba(255,255,255,0.9);font-size:0.98rem;">to celebrate the Wedding of</p>
      <div class="name-script" style="margin:8px 0;">Arundhati &amp; Nishit</div>
    </header>

    <!-- Countdown -->
    <section class="glass" style="text-align:center;">
      <div style="font-size:.8rem;text-transform:uppercase;opacity:.85">Countdown</div>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:12px;">
        <div><div id="cdDays" style="font-size:1.5rem;font-weight:700;">â€”</div><div style="font-size:.8rem;">Days</div></div>
        <div><div id="cdHours" style="font-size:1.5rem;font-weight:700;">â€”</div><div style="font-size:.8rem;">Hours</div></div>
        <div><div id="cdMinutes" style="font-size:1.5rem;font-weight:700;">â€”</div><div style="font-size:.8rem;">Minutes</div></div>
      </div>
    </section>

    <!-- Wedding -->
    <section class="glass" style="text-align:center;">
      <div style="font-size:1.3rem;font-weight:700;">Wedding Ceremony</div>
      <div style="margin-top:8px;opacity:.9;">28th December 2025 Â· 10:30 AM</div>
      <div style="margin-top:12px;font-weight:700;">
        Club 6 <a href="https://maps.app.goo.gl/AYYvx3EvXeXmdDjd6" target="_blank" rel="noreferrer" style="margin-left:10px;color:inherit;background:rgba(255,255,255,.08);padding:6px 10px;border-radius:9999px">Map</a>
      </div>
      <div style="font-size:.86rem;opacity:.85;margin-top:6px;">Kallepully Road, Ramanathapuram, Palakkad - 678001</div>

      <div style="display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin-top:14px;">
        <a href="https://calendar.app.google/yiY7bvqTEEnrJBVr8" target="_blank" class="btn-cal"><i class="bi bi-calendar-event"></i> Add Event</a>
        <button id="whatsappShare" class="btn-wa"><i class="bi bi-whatsapp"></i> Share</button>
        <button id="downloadSaveDate" class="btn-default"><i class="bi bi-card-image"></i> Invitation card</button>
        <button id="scrollToRSVP" class="btn-default"><i class="bi bi-check2-circle"></i> RSVP</button>
      </div>
    </section>


    <!-- RSVP -->
    <section id="rsvp" class="rsvp-card">
      <div style="text-align:center;font-weight:700;margin-bottom:10px">RSVP</div>
      <form id="rsvpForm" onsubmit="return false;" style="display:flex;flex-direction:column;gap:10px;">
        <input id="r_name" class="form-input" type="text" placeholder="Your good name" required>
        <div style="text-align:center;">
          <div style="font-size:.95rem;opacity:.9;margin-bottom:6px;">Will you attend?</div>
          <label><input type="radio" name="attend" value="Yes" checked> Yes</label>
          <label style="margin-left:16px;"><input type="radio" name="attend" value="No"> No</label>
        </div>
        <div>
          <label style="font-size:.9rem;opacity:.9;margin-bottom:6px;">Number of guests (including you)</label>
          <input id="r_guests" class="form-input" type="number" min="1" value="1" required>
        </div>
        <div style="display:flex;justify-content:center;gap:10px;">
          <button id="submitRsvp" class="btn-default" style="padding:10px 18px;"><i class="bi bi-check2-circle"></i> Send RSVP</button>
          <button id="resetRsvp" class="btn-default" style="padding:10px 18px;background:transparent;color:#fff;">Reset</button>
        </div>
        <div id="rsvpMsg" style="text-align:center;margin-top:6px;min-height:20px;font-size:.95rem;"></div>
      </form>
    </section>

    <section class="glass" style="text-align:center;">
      <div style="opacity:.95;">We look forward to celebrating this joyous occasion with you and seeking your blessings as we begin our new chapter together.<br> No gifts please.</div>
    </section>
  </main>

<script>
/* Countdown */
const WEDDING_ISO="2025-12-28T10:30:00+05:30";
function updateCountdown(){const n=Date.now(),t=new Date(WEDDING_ISO).getTime(),d=Math.max(0,t-n);document.getElementById('cdDays').innerText=Math.floor(d/(1000*60*60*24));document.getElementById('cdHours').innerText=Math.floor((d/(1000*60*60))%24);document.getElementById('cdMinutes').innerText=Math.floor((d/(1000*60))%60);}
updateCountdown();setInterval(updateCountdown,60000);

/* WhatsApp Share */
document.getElementById('whatsappShare').addEventListener('click',()=>{
  const text=`ðŸ’– You're invited! Join us for Arundhati & Nishit's wedding celebration.

âœ RSVP on our wedding page: https://chaotic-carni.github.io/ArundhatiNishit/

ðŸ“… Date: December 28, 2025
ðŸ•’ Time: 10:30 AM
ðŸž Venue: Club 6 Convention Centre, Palakkad, Kerala
ðŸ—º Google Maps: https://maps.app.goo.gl/AYYvx3EvXeXmdDjd6

Can't wait to celebrate with you! âœ¨ðŸ™`;
  window.open(`https://wa.me/?text=${encodeURIComponent(text)}`,'_blank');
});

/* Invitation card download */
document.getElementById('downloadSaveDate').addEventListener('click', () => {
  const a = document.createElement('a');
  a.href = 'invitation-card.png';   // make sure this file is in the same folder as index.html
  a.download = 'invitation-card.png';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
});


/* RSVP (GET to Apps Script) */
const SHEET_URL="https://script.google.com/macros/s/AKfycbxImL4UpuNmaAtlvmcXZsWoYmf6Ef4O57EbCs-gJbfii7cbP9Z2yBQB1BE21VIN4m_33A/exec";
document.getElementById('submitRsvp').addEventListener('click',async e=>{
  e.preventDefault();
  const name=document.getElementById('r_name').value.trim();
  const guests=document.getElementById('r_guests').value;
  const attend=document.querySelector('input[name="attend"]:checked').value;
  const msg=document.getElementById('rsvpMsg');
  if(!name||!guests){msg.style.color='#f87171';msg.innerText='Please fill all fields.';return;}
  msg.style.color='#fff';msg.innerText='Sending...';
  try{await fetch(`${SHEET_URL}?name=${encodeURIComponent(name)}&attend=${attend}&guests=${guests}`,{method:'GET',mode:'no-cors'});msg.style.color='#bbf7d0';msg.innerText='Thank you â€” RSVP received âœ¨';document.getElementById('r_name').value='';document.getElementById('r_guests').value='1';}
  catch(err){msg.style.color='#f87171';msg.innerText='Error saving RSVP';}
});
document.getElementById('resetRsvp').addEventListener('click',e=>{e.preventDefault();document.getElementById('r_name').value='';document.getElementById('r_guests').value='1';document.getElementById('rsvpMsg').innerText='';});
document.getElementById('scrollToRSVP').addEventListener('click',()=>document.getElementById('rsvp').scrollIntoView({behavior:'smooth'}));

/* Video + Sound with tutorial bubble */
const bgVideo=document.getElementById('bgVideo');
const soundToggle=document.getElementById('soundToggle');
const soundIcon=document.getElementById('soundIcon');
const tutorial=document.getElementById('soundTutorial');
const DEFAULT_VOL=0.12;
let soundEnabled=false;

function updateSoundIcon(){if(bgVideo.muted||bgVideo.volume===0){soundIcon.className='bi bi-volume-mute';}else{soundIcon.className='bi bi-volume-up';}}

async function tryEnableSound(){
  try{bgVideo.muted=false;bgVideo.volume=DEFAULT_VOL;await bgVideo.play();soundEnabled=true;tutorial.classList.add('hide');setTimeout(()=>tutorial.remove(),700);}catch(err){bgVideo.muted=true;soundEnabled=false;}updateSoundIcon();
}

// Always start muted autoplay
bgVideo.muted=true;bgVideo.play().catch(()=>{});

// First pointerdown anywhere also enables sound
document.addEventListener('pointerdown',()=>{if(!soundEnabled) tryEnableSound();},{once:true});

// Sound toggle button
soundToggle.addEventListener('click',async e=>{e.preventDefault();if(!soundEnabled){await tryEnableSound();}else{if(bgVideo.muted||bgVideo.volume===0){bgVideo.muted=false;bgVideo.volume=DEFAULT_VOL;await bgVideo.play().catch(()=>{});}else{bgVideo.muted=true;}updateSoundIcon();}});

updateSoundIcon();
</script>
</body>
</html>
